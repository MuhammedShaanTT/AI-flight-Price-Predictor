{% extends 'base.html' %}
{% block title %}Login - AI Flight Assistant{% endblock %}

{% block content %}
  <div class="min-h-[70vh] grid place-items-center">
    <div class="w-full max-w-md rounded-2xl bg-white/10 border border-white/10 backdrop-blur-xl p-6 shadow-xl">
      <h1 class="text-3xl font-extrabold text-white text-center">Welcome ✈️</h1>

      <div x-data="{ tab: 'login' }" class="mt-6">
        <div class="grid grid-cols-2 text-center rounded-lg bg-white/5 p-1 border border-white/10">
          <button @click="tab = 'login'" :class="tab === 'login' ? 'bg-indigo-500 text-white shadow' : 'text-slate-300'" class="py-2 rounded-md transition">Login</button>
          <button @click="tab = 'register'" :class="tab === 'register' ? 'bg-indigo-500 text-white shadow' : 'text-slate-300'" class="py-2 rounded-md transition">Register</button>
        </div>

        <form x-show="tab === 'login'" action="{{ url_for('login') }}" method="post" class="space-y-4 mt-6">
          <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
          <div>
            <label for="login-username" class="block text-sm font-medium text-slate-200">Username</label>
            <input type="text" name="username" id="login-username" required class="mt-1 block w-full py-2.5 px-3 rounded-md bg-white/10 border border-white/20 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-400" placeholder="Enter your username">
            <p class="mt-1 text-xs text-slate-400">Use your registered username.</p>
          </div>
          <div>
            <label for="login-password" class="block text-sm font-medium text-slate-200">Password</label>
            <input type="password" name="password" id="login-password" required minlength="6" class="mt-1 block w-full py-2.5 px-3 rounded-md bg-white/10 border border-white/20 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-400" placeholder="Your password">
            <p class="mt-1 text-xs text-slate-400">At least 6 characters.</p>
          </div>
          <button type="submit" name="login" class="w-full inline-flex justify-center items-center py-2.5 px-4 rounded-md text-sm font-semibold text-white bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-pink-500 hover:opacity-95 shadow-glow">Log In</button>
        </form>

        <form x-show="tab === 'register'" action="{{ url_for('login') }}" method="post" class="space-y-4 mt-6">
          <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
          <div>
            <label for="register-username" class="block text-sm font-medium text-slate-200">Username</label>
            <input type="text" name="username" id="register-username" required class="mt-1 block w-full py-2.5 px-3 rounded-md bg-white/10 border border-white/20 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-400" placeholder="Choose a username">
          </div>
          <div>
            <label for="register-password" class="block text-sm font-medium text-slate-200">Password</label>
            <input type="password" name="password" id="register-password" required minlength="6" class="mt-1 block w-full py-2.5 px-3 rounded-md bg-white/10 border border-white/20 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-400" placeholder="Create a strong password">
            <p class="mt-1 text-xs text-slate-400">At least 6 characters.</p>
          </div>
          <button type="submit" name="register" class="w-full inline-flex justify-center items-center py-2.5 px-4 rounded-md text-sm font-semibold text-white bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-pink-500 hover:opacity-95 shadow-glow">Create Account</button>
        </form>
      </div>
    </div>
  </div>
{% endblock %}